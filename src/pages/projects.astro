---
import Layout from '../layouts/Layout.astro';
import ProjectCard from '../components/ProjectCard.astro';
import { getCollection, type CollectionEntry } from 'astro:content';

const projects = await getCollection('projects');
---

<Layout title="Projects">
    <h1 class="text-3xl font-bold mb-4">Projects</h1>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        {projects.map((project: CollectionEntry<'projects'>, index: number) => (
            <ProjectCard 
                project={{
                    ...project.data,
                    slug: project.slug
                }}
                index={index}
            />
        ))}
    </div>
</Layout>
