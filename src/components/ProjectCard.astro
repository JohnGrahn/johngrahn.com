---
import { Icon } from 'astro-icon/components';
import { techIconMap } from '../utils/techIcons';

interface Props {
    project: {
        title: string;
        description: string;
        liveDemoUrl: string;
        githubUrl: string;
        techStack: string[];
        slug?: string;
    };
    index?: number;
}

const { project, index = 0 } = Astro.props;
const { title, description, liveDemoUrl, githubUrl, techStack, slug } = project;
---

<div class="card bg-base-200 hover:bg-base-300 transition-all duration-200 p-6 h-full min-h-[280px] flex flex-col justify-between">
  <div class="space-y-4">
    <div class="space-y-2">
      <h2 class="text-xl md:text-2xl font-semibold line-clamp-2">{title}</h2>
      <p class="text-base-content/60 text-sm md:text-base line-clamp-3">{description}</p>
    </div>
    
    <div class="flex flex-wrap gap-2">
      {techStack.map((tech) => (
        <span class="inline-flex items-center px-2.5 py-1.5 rounded bg-base-200 dark:bg-base-300 hover:bg-base-300 dark:hover:bg-base-200 transition-colors duration-200 gap-1.5 border border-base-300 dark:border-base-200">
          {techIconMap[tech] && (
            <Icon name={techIconMap[tech]} class="w-4 h-4 flex-shrink-0" />
          )}
          <span class="text-xs md:text-sm whitespace-nowrap">{tech}</span>
        </span>
      ))}
    </div>
  </div>
  
  <div class="flex flex-wrap items-center gap-2 mt-6">
    <a href={liveDemoUrl} class="btn btn-primary btn-sm flex-1 min-w-[100px]">Live Demo</a>
    <a href={`/projects/${slug}`} class="btn btn-secondary btn-sm flex-1 min-w-[100px]">View Post</a>
    <a href={githubUrl} class="btn btn-accent btn-sm flex-1 min-w-[100px]">GitHub</a>
  </div>
</div>
