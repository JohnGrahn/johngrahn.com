---
import { getCollection, type CollectionEntry } from 'astro:content';

const posts = (await getCollection('blog')).sort((a: CollectionEntry<'blog'>, b: CollectionEntry<'blog'>) => b.data.pubDate.getTime() - a.data.pubDate.getTime()).slice(0, 3);
---

<div class="card bg-base-100 shadow-xl">
  <div class="card-body">
    <h2 class="card-title">Recent Posts</h2>
    <ul class="space-y-2">
      {posts.map((post: CollectionEntry<'blog'>) => (
        <li>
          <a href={`/blog/${post.slug}`} class="link link-hover">{post.data.title}</a>
        </li>
      ))}
    </ul>
  </div>
</div>
